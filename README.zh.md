<!--å¼ æŒ¯é”Ÿ-->
# FastAPI åˆå§‹é¡¹ç›®

## ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº [FastAPI](https://fastapi.tiangolo.com/) æ¡†æ¶çš„åˆå§‹é¡¹ç›®æ¨¡æ¿ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…å¿«é€Ÿå¯åŠ¨åŸºäº Python çš„ Web åº”ç”¨ç¨‹åºã€‚è¯¥é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒå¿«é€Ÿå¼€å‘ã€æ‰©å±•å’Œéƒ¨ç½²ã€‚

---

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **å¿«é€Ÿå¯åŠ¨**ï¼šåŒ…å«æœ€å°åŒ–çš„ FastAPI é¡¹ç›®ç»“æ„ã€‚
- ğŸ› ï¸ **å¯æ‰©å±•**ï¼šæ¨¡å—åŒ–ä»£ç ç»“æ„ï¼Œæ˜“äºæ‰©å±•æ–°åŠŸèƒ½ã€‚
- ğŸ“¦ **ä¾èµ–ç®¡ç†**ï¼šä½¿ç”¨ `requirements.txt` æˆ– `poetry` ç®¡ç†ä¾èµ–ã€‚
- ğŸ” **å®‰å…¨æ€§**ï¼šå†…ç½®æ”¯æŒç¯å¢ƒå˜é‡ç®¡ç†ï¼ˆ`.env` æ–‡ä»¶ï¼‰ã€‚
- ğŸ—ƒï¸ **æ•°æ®åº“æ”¯æŒ**ï¼šæ”¯æŒå¤šç§æ•°æ®åº“ï¼ˆå¦‚ SQLiteã€PostgreSQLï¼‰ã€‚
- ğŸŒ **API æ–‡æ¡£**ï¼šè‡ªåŠ¨ç”Ÿæˆäº¤äº’å¼ API æ–‡æ¡£ï¼ˆSwagger UI å’Œ ReDocï¼‰ã€‚

---

## ç¯å¢ƒè¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

- Python ç‰ˆæœ¬ï¼š`>=3.8`
- æ¨èæ“ä½œç³»ç»Ÿï¼šWindowsã€MacOSã€Linux
- åŒ…ç®¡ç†å·¥å…·ï¼š`pip` æˆ– `poetry`

---

## å®‰è£…æ­¥éª¤

### 1. å…‹éš†é¡¹ç›®ä»£ç 

```bash
git clone https://github.com/zzk-zuishuai/fastapi-initial-project.git
cd fastapi-initial-project
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

ä½¿ç”¨ `venv` åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶æ¿€æ´»ï¼š

```bash
python -m venv venv
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (Linux/MacOS)
source venv/bin/activate
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (Windows)
venv\Scripts\activate
```

### 3. å®‰è£…é¡¹ç›®ä¾èµ–

```bash
pip install -r requirements.txt
```

---

## ä½¿ç”¨è¯´æ˜

### è¿è¡Œå¼€å‘æœåŠ¡å™¨

åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿è¡ŒæœåŠ¡å™¨ï¼š

```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

æœåŠ¡å™¨å¯åŠ¨åï¼Œæ‚¨å¯ä»¥è®¿é—®ä»¥ä¸‹åœ°å€ï¼š

- Swagger UI: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)
- ReDoc: [http://127.0.0.1:8000/redoc](http://127.0.0.1:8000/redoc)

### æ•°æ®åº“è¿ç§»

å¦‚æœé¡¹ç›®ä½¿ç”¨äº†æ•°æ®åº“ï¼Œè¯·ç¡®ä¿è¿è¡Œè¿ç§»è„šæœ¬ï¼š

```bash
alembic upgrade head
```

---

## éƒ¨ç½²æŒ‡å—

ä»¥ä¸‹æ˜¯ç”Ÿäº§ç¯å¢ƒçš„éƒ¨ç½²æ­¥éª¤ç¤ºä¾‹ï¼š

### 1. ä½¿ç”¨ Gunicorn éƒ¨ç½²

```bash
gunicorn -k uvicorn.workers.UvicornWorker app.main:app --bind 0.0.0.0:8000
```

### 2. é…ç½® Nginx åå‘ä»£ç†

ä»¥ä¸‹æ˜¯ Nginx é…ç½®ç¤ºä¾‹ï¼š

```nginx
server {
    listen 80;
    server_name your_domain.com;

    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### 3. ä½¿ç”¨ Docker éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰

åˆ›å»ºä¸€ä¸ª `Dockerfile`ï¼š

```dockerfile
FROM python:3.10

WORKDIR /app

COPY requirements.txt .

RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

æ„å»ºå¹¶è¿è¡Œ Docker é•œåƒï¼š

```bash
docker build -t fastapi-app .
docker run -d -p 8000:8000 fastapi-app
```

---

## ç›®å½•ç»“æ„

ä»¥ä¸‹æ˜¯é¡¹ç›®çš„ä¸»è¦ç›®å½•ç»“æ„ï¼š

```plaintext
fastapi-initial-project/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py          # FastAPI åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ routers/         # è·¯ç”±æ¨¡å—
â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ schemas/         # æ•°æ®éªŒè¯æ¨¡å‹
â”‚   â””â”€â”€ utils/           # å·¥å…·å‡½æ•°
â”œâ”€â”€ tests/               # æµ‹è¯•ä»£ç 
â”œâ”€â”€ requirements.txt     # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ Dockerfile           # Docker é…ç½®
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```
<!--å¼ æŒ¯é”Ÿ-->

<!-- by 2205308010338è’™æ€å‹‡ -->
# FATSAPI é¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªåŸºäº "FastAPI" å’Œ "Vue.js" çš„ä»»åŠ¡ç®¡ç†å·¥å…·ï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·é«˜æ•ˆåœ°ç®¡ç†ä»»åŠ¡ã€‚é¡¹ç›®é€‚åˆç”¨æ¥å­¦ä¹ å’Œå®è·µå…¨æ ˆå¼€å‘ï¼Œå°¤å…¶æ˜¯ FastAPI å’Œ Vue.js çš„ç»“åˆä½¿ç”¨ã€‚

## âœ¨ é¡¹ç›®ç‰¹ç‚¹

- ğŸ“ "ä»»åŠ¡ç®¡ç†"ï¼šæ”¯æŒæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤ä»»åŠ¡ï¼Œå¸®åŠ©ç”¨æˆ·æ¸…æ™°åœ°è§„åˆ’å’Œç®¡ç†æ—¥å¸¸ä»»åŠ¡ã€‚
- âœ… "ä»»åŠ¡çŠ¶æ€ç®¡ç†"ï¼šå¯ä»¥å‹¾é€‰ä»»åŠ¡ä¸ºå·²å®ŒæˆçŠ¶æ€ï¼Œæ–¹ä¾¿ç”¨æˆ·è·Ÿè¸ªä»»åŠ¡è¿›åº¦ã€‚
- ğŸ’¾ "æ•°æ®å­˜å‚¨"ï¼š
  - å‰ç«¯ï¼šæ”¯æŒæµè§ˆå™¨ LocalStorage å­˜å‚¨ä»»åŠ¡æ•°æ®ï¼Œä¾¿äºå¿«é€Ÿä½“éªŒã€‚
  - åç«¯ï¼šä½¿ç”¨æ•°æ®åº“ï¼ˆå¦‚ MySQLï¼‰å­˜å‚¨ä»»åŠ¡æ•°æ®ï¼Œç¡®ä¿æ•°æ®æŒä¹…åŒ–ã€‚
- ğŸ¨ "å“åº”å¼è®¾è®¡" ï¼šç•Œé¢é€‚é…æ‰‹æœºå’Œ PCï¼Œæä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚
- ğŸ”— "API æ”¯æŒ"  ï¼šåç«¯æä¾› RESTful APIï¼Œæ–¹ä¾¿ä¸å…¶ä»–ç³»ç»Ÿé›†æˆã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å…‹éš†é¡¹ç›®

```bash
https://github.com/cxkmsy/fastapi-initial-project.git
cd fastapi-initial-project
```

### åç«¯éƒ¨åˆ†

1. **å®‰è£…ä¾èµ–**ï¼š
   ```bash
   python -m venv venv
   source venv/bin/activate  # Linux/MacOS
   venv\Scripts\activate     # Windows
   pip install -r requirements.txt
   ```

2. **é…ç½®æ•°æ®åº“**ï¼š
   - ç¡®ä¿ MySQL æˆ–å…¶ä»–æ•°æ®åº“å·²å®‰è£…å¹¶è¿è¡Œã€‚
   - ä¿®æ”¹ `app/config.py` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®ã€‚

3. **åˆå§‹åŒ–æ•°æ®åº“**ï¼š
   ```bash
   python -c "from app.schemas.schema import index; index()"
   ```

4. **è¿è¡Œåç«¯æœåŠ¡**ï¼š
   ```bash
   uvicorn app.main:app --reload
   ```
   åç«¯æœåŠ¡å°†è¿è¡Œåœ¨ `http://127.0.0.1:8000`ã€‚

### å‰ç«¯éƒ¨åˆ†

1. **å®‰è£…ä¾èµ–**ï¼š
   ```bash
   cd frontend
   npm install
   ```

2. **å¯åŠ¨å‰ç«¯æœåŠ¡**ï¼š
   ```bash
   npm run dev
   ```
   å‰ç«¯æœåŠ¡å°†è¿è¡Œåœ¨ `http://localhost:5173`ã€‚

## ğŸ“® API æ–‡æ¡£

åç«¯æä¾›äº†è‡ªåŠ¨ç”Ÿæˆçš„ API æ–‡æ¡£ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š
- Swagger UI: `http://127.0.0.1:8000/docs`
- ReDoc: `http://127.0.0.1:8000/redoc`


## ğŸ“¦ é¡¹ç›®ç»“æ„

```
fastapi-initial-project/
â”œâ”€â”€ app/                  # åç«¯ä»£ç ç›®å½•
â”‚   â”œâ”€â”€ controllers/      # æ§åˆ¶å™¨æ¨¡å—ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ __init__.py   # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ projects.py   # é¡¹ç›®ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ users.py      # ç”¨æˆ·ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ helpers/          # è¾…åŠ©å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py   # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.py       # è®¤è¯ç›¸å…³çš„å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ hashing.py    # å“ˆå¸Œå¤„ç†å·¥å…·ï¼ˆå¦‚å¯†ç åŠ å¯†ï¼‰
â”‚   â”œâ”€â”€ middlewares/      # ä¸­é—´ä»¶æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py   # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.py       # è®¤è¯ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ models/           # æ•°æ®åº“æ¨¡å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ __init__.py   # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ projects.py   # é¡¹ç›®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ users.py      # ç”¨æˆ·æ¨¡å‹
â”‚   â”œâ”€â”€ routers/          # è·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py   # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ index.py      # è·¯ç”±åŠ è½½å…¥å£
â”‚   â”‚   â”œâ”€â”€ projects.py   # é¡¹ç›®ç›¸å…³çš„è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ users.py      # ç”¨æˆ·ç›¸å…³çš„è·¯ç”±
â”‚   â”œâ”€â”€ schemas/          # æ•°æ®éªŒè¯å’Œåºåˆ—åŒ–æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py   # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ projects.py   # é¡¹ç›®ç›¸å…³çš„ Pydantic æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ schema.py     # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ users.py      # ç”¨æˆ·ç›¸å…³çš„ Pydantic æ¨¡å‹
â”‚   â”œâ”€â”€ __init__.py       # åŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”œâ”€â”€ config.py         # é…ç½®æ–‡ä»¶ï¼ˆå¦‚æ•°æ®åº“è¿æ¥é…ç½®ï¼‰
â”‚   â”œâ”€â”€ database.py       # æ•°æ®åº“è¿æ¥å’Œåˆå§‹åŒ–
â”‚
â”œâ”€â”€ .gitignore            # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ LICENSE               # é¡¹ç›®è®¸å¯è¯
â”œâ”€â”€ main.py               # FastAPI åº”ç”¨ä¸»å…¥å£
â”œâ”€â”€ README.md             # è‹±æ–‡ç‰ˆé¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ README.zh.md          # ä¸­æ–‡ç‰ˆé¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ requirements.txt      # Python ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ terms.md              # é¡¹ç›®æ¡æ¬¾æˆ–è¯´æ˜
â”œâ”€â”€ ai_usage_screenshots  # AI ä½¿ç”¨æˆªå›¾ç›®å½•
```

## ğŸ“¸ é¡¹ç›®åŠŸèƒ½ä¸æˆªå›¾

### 1. æ·»åŠ ä»»åŠ¡
ç”¨æˆ·å¯ä»¥é€šè¿‡è¾“å…¥ä»»åŠ¡åç§°å’Œæè¿°æ¥æ·»åŠ æ–°ä»»åŠ¡ã€‚

![æ·»åŠ ä»»åŠ¡ç•Œé¢]

### 2. æŸ¥çœ‹ä»»åŠ¡åˆ—è¡¨
ä»»åŠ¡åˆ—è¡¨å±•ç¤ºæ‰€æœ‰ä»»åŠ¡ï¼ŒåŒ…æ‹¬æœªå®Œæˆå’Œå·²å®Œæˆçš„ä»»åŠ¡ã€‚

![ä»»åŠ¡åˆ—è¡¨ç•Œé¢]

### 3. ç¼–è¾‘ä»»åŠ¡
æ”¯æŒå¯¹å·²æœ‰ä»»åŠ¡è¿›è¡Œä¿®æ”¹ï¼ŒåŒ…æ‹¬ä»»åŠ¡åç§°å’Œæè¿°ã€‚

![ç¼–è¾‘ä»»åŠ¡ç•Œé¢]

### 4. åˆ é™¤ä»»åŠ¡
ç”¨æˆ·å¯ä»¥åˆ é™¤ä¸éœ€è¦çš„ä»»åŠ¡ã€‚

![åˆ é™¤ä»»åŠ¡ç•Œé¢]

### 5. å‹¾é€‰å·²å®Œæˆä»»åŠ¡
é€šè¿‡å‹¾é€‰ä»»åŠ¡ï¼Œæ ‡è®°ä»»åŠ¡ä¸ºå·²å®ŒæˆçŠ¶æ€ã€‚

![å‹¾é€‰ä»»åŠ¡ç•Œé¢]
<!-- by 2205308010338è’™æ€å‹‡ -->

